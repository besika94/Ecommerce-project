"use strict";(self.webpackChunkestore=self.webpackChunkestore||[]).push([[866],{9866:(M,u,m)=>{m.r(u),m.d(u,{AuthComponent:()=>k});var a=m(2615),d=m(3597),p=m(162),c=m(2200),i=m(4341),g=m(7705),t=m(3664);function h(n,l){if(1&n&&(t.j41(0,"div",2),t.EFF(1),t.k0s()),2&n){const r=t.XpG();t.R7$(),t.SpI("Please enter ",r.label())}}function f(n,l){if(1&n&&(t.j41(0,"div",2),t.EFF(1),t.k0s()),2&n){const r=t.XpG();t.R7$(),t.SpI("Please enter a valid ",r.label())}}function b(n,l){if(1&n&&(t.j41(0,"div",2),t.EFF(1),t.k0s()),2&n){const r=t.XpG();t.R7$(),t.Lme(" ",r.label()," must be at least ",null==r.control.errors?null:r.control.errors.minlength.requiredLength," characters ")}}function C(n,l){if(1&n&&(t.j41(0,"div",2),t.EFF(1),t.k0s()),2&n){const r=t.XpG();t.R7$(),t.Lme(" ",r.label()," must be at most ",null==r.control.errors?null:r.control.errors.maxlength.requiredLength," characters ")}}function F(n,l){1&n&&(t.j41(0,"div",2),t.EFF(1,"Password do not match"),t.k0s())}let v=(()=>{var n;class l{constructor(s){this.ngControl=s,this.label=g.hFB.required(),this.type=g.hFB.required(),this.ngControl.valueAccessor=this}writeValue(s){}registerOnChange(s){}registerOnTouched(s){}get control(){return this.ngControl.control}static#t=n=()=>(this.\u0275fac=function(e){return new(e||l)(t.rXU(i.vO,2))},this.\u0275cmp=t.VBU({type:l,selectors:[["app-text-input"]],inputs:{label:[1,"label"],type:[1,"type"]},decls:9,vars:13,consts:[[1,"mt-2"],[1,"form-control",3,"type","formControl","placeholder"],[1,"invalid-feedback"]],template:function(e,o){1&e&&(t.j41(0,"div",0)(1,"label"),t.EFF(2),t.k0s(),t.nrm(3,"input",1),t.nVh(4,h,2,1,"div",2),t.nVh(5,f,2,1,"div",2),t.nVh(6,b,2,2,"div",2),t.nVh(7,C,2,2,"div",2),t.nVh(8,F,2,0,"div",2),t.k0s()),2&e&&(t.R7$(2),t.SpI("",o.label(),":"),t.R7$(),t.AVh("is-invalid",o.control.touched&&o.control.invalid),t.Y8G("type",t.mNQ(o.type()))("placeholder",t.mNQ(o.label()))("formControl",o.control),t.R7$(),t.vxM(null!=o.control.errors&&o.control.errors.required?4:-1),t.R7$(),t.vxM(null!=o.control.errors&&o.control.errors.email?5:-1),t.R7$(),t.vxM(null!=o.control.errors&&o.control.errors.minlength?6:-1),t.R7$(),t.vxM(null!=o.control.errors&&o.control.errors.maxlength?7:-1),t.R7$(),t.vxM(null!=o.control.errors&&o.control.errors.notMatching?8:-1))},dependencies:[c.MD,i.X1,i.me,i.BC,i.l_],encapsulation:2,changeDetection:0}))}return n(),l})();var x=m(6453);function _(n,l){if(1&n){const r=t.RV6();t.j41(0,"form",1),t.bIt("ngSubmit",function(){a.eBV(r);const e=t.XpG();return a.Njj(e.submitForm())}),t.j41(1,"h2",2),t.EFF(2,"Register"),t.k0s(),t.nrm(3,"app-text-input",3)(4,"app-text-input",3)(5,"app-text-input",4)(6,"app-text-input",4)(7,"app-text-input",4),t.j41(8,"div",5)(9,"button",6),t.EFF(10,"Register"),t.k0s(),t.j41(11,"button",7),t.bIt("click",function(){a.eBV(r);const e=t.XpG();return a.Njj(e.resetForm())}),t.EFF(12,"Clear"),t.k0s()()()}if(2&n){const r=t.XpG();t.Y8G("formGroup",r.registerForm),t.R7$(3),t.Y8G("formControl",r.registerForm.controls.firstName)("label","First Name"),t.R7$(),t.Y8G("formControl",r.registerForm.controls.lastName)("label","Last Name"),t.R7$(),t.Y8G("formControl",r.registerForm.controls.email)("label","Email")("type","email"),t.R7$(),t.Y8G("formControl",r.registerForm.controls.password)("label","Password")("type","password"),t.R7$(),t.Y8G("formControl",r.registerForm.controls.confirmPassword)("label","Confirm Password")("type","password"),t.R7$(2),t.Y8G("disabled",!r.registerForm.valid)}}let y=(()=>{var n;class l{constructor(s,e,o){this.fb=s,this._snackBar=e,this.router=o}ngOnInit(){this.initializeForm()}initializeForm(){this.registerForm=this.fb.group({firstName:["",i.k0.required],lastName:["",i.k0.required],email:["",i.k0.required],password:["",[i.k0.required,i.k0.minLength(8)]],confirmPassword:["",[i.k0.required,this.matchValues("password")]]}),this.registerForm.controls.password.valueChanges.subscribe({next:()=>this.registerForm?.controls.confirmPassword.updateValueAndValidity()})}matchValues(s){return e=>e?.value===e?.parent?.get(s)?.value?null:{isMatching:!0}}submitForm(){const{firstName:s}=this.registerForm?.value;this._snackBar.open(`Welcome ${s}`,"ok",{duration:2e3}),this.router.navigateByUrl("/home")}resetForm(){this.registerForm?.reset()}static#t=n=()=>(this.\u0275fac=function(e){return new(e||l)(t.rXU(i.ze),t.rXU(x.UG),t.rXU(p.Ix))},this.\u0275cmp=t.VBU({type:l,selectors:[["app-register-form"]],decls:1,vars:1,consts:[["autocomplete","on",1,"form-group",3,"formGroup"],["autocomplete","on",1,"form-group",3,"ngSubmit","formGroup"],[1,"text-center","mb-0"],["type","text",3,"formControl","label"],[3,"formControl","label","type"],[1,"text-end","mt-3"],["type","submit",1,"btn","btn-primary","me-2",3,"disabled"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(e,o){1&e&&t.nVh(0,_,13,15,"form",0),2&e&&t.vxM(o.registerForm?0:-1)},dependencies:[c.MD,i.X1,i.qT,i.BC,i.cb,i.l_,i.j4,v],styles:[".form-group[_ngcontent-%COMP%]{max-width:400px;margin:40px auto;box-shadow:0 0 2px gray;padding:20px;border-radius:5px}"],changeDetection:0}))}return n(),l})();function R(n,l){1&n&&t.nrm(0,"app-register-form")}function w(n,l){if(1&n){const r=t.RV6();t.j41(0,"div",2)(1,"h2",5),t.EFF(2,"Sign in"),t.k0s(),t.j41(3,"form",6,0),t.bIt("ngSubmit",function(){a.eBV(r);const e=t.XpG();return a.Njj(e.login())}),t.j41(5,"label",7),t.EFF(6,"Email:"),t.k0s(),t.j41(7,"input",8),t.mxI("ngModelChange",function(e){a.eBV(r);const o=t.XpG();return t.DH7(o.email,e)||(o.email=e),a.Njj(e)}),t.k0s(),t.j41(8,"label",9),t.EFF(9,"Password:"),t.k0s(),t.j41(10,"input",10),t.mxI("ngModelChange",function(e){a.eBV(r);const o=t.XpG();return t.DH7(o.password,e)||(o.password=e),a.Njj(e)}),t.k0s(),t.j41(11,"div",11)(12,"button",12),t.EFF(13,"Sign in"),t.k0s()()()()}if(2&n){const r=t.XpG();t.R7$(7),t.R50("ngModel",r.email),t.R7$(3),t.R50("ngModel",r.password)}}let k=(()=>{var n;class l{constructor(){this.router=(0,a.WQX)(p.Ix),this.activatedRoute=(0,a.WQX)(p.nX),this.type=(0,a.vPA)("login"),this.displayLoginForm=(0,d.EW)(()=>"login"===this.type()),this.switchText=(0,d.EW)(()=>"login"===this.type()?"Register":"Login"),this.email=(0,a.vPA)(""),this.password=(0,a.vPA)(""),this.activatedRoute.params.subscribe({next:s=>this.type.set(s.type)})}login(){""!==this.email()&&""!==this.password()&&this.router.navigateByUrl("/home")}switchFromText(s){this.router.navigateByUrl(s)}static#t=n=()=>(this.\u0275fac=function(e){return new(e||l)},this.\u0275cmp=t.VBU({type:l,selectors:[["app-auth"]],decls:6,vars:2,consts:[["loginForm","ngForm"],[1,"wrapper",2,"margin-top","120px","padding-block","50px"],[1,"form-group"],[1,"text-center","switch-mode-text"],[3,"click"],[1,"text-center","mb-0"],["autocomplete","off",3,"ngSubmit"],["for","email",1,"mt-2"],["id","email","name","email","type","text","placeholder","Email",1,"form-control","me-2",3,"ngModelChange","ngModel"],["for","password",1,"mt-2"],["id","password","name","password","type","password","placeholder","Password",1,"form-control","me-2",3,"ngModelChange","ngModel"],[1,"text-end","mt-3"],["type","submit",1,"btn","btn-primary","me-2"]],template:function(e,o){1&e&&(t.j41(0,"div",1),t.nVh(1,R,1,0,"app-register-form")(2,w,14,2,"div",2),t.j41(3,"div",3)(4,"span",4),t.bIt("click",function(){return o.switchFromText("Register"===o.switchText()?"/account/register":"/account/login")}),t.EFF(5),t.k0s()()()),2&e&&(t.R7$(),t.vxM(o.displayLoginForm()?2:1),t.R7$(4),t.SpI("Switch to ",o.switchText()))},dependencies:[c.MD,i.YN,i.qT,i.me,i.BC,i.cb,i.vS,i.cV,y],styles:[".form-group[_ngcontent-%COMP%]{max-width:400px;margin:40px auto;box-shadow:0 0 2px gray;padding:20px;border-radius:5px}.switch-mode-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-decoration:underline;cursor:pointer}"],changeDetection:0}))}return n(),l})()}}]);